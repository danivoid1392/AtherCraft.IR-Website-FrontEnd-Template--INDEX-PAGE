<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‌ فروشگاه - AETHERCRAFT</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #0f1724;
      --bg2: #071129;
      --accent1: #7c3aed;
      --accent2: #06b6d4;
      --glass: rgba(255,255,255,0.06);
      --gold: linear-gradient(90deg,#FFD700,#FFC107 60%, #FF8A00);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Vazirmatn", system-ui, -apple-system, "Segoe UI", Roboto;
      background: radial-gradient(1000px 600px at 10% 10%, rgba(124,58,237,0.12), transparent),
                  radial-gradient(900px 500px at 90% 90%, rgba(6,182,212,0.06), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#e6eef8;
      min-height:100vh;
      padding:32px 32px 120px; /* extra bottom padding so محتوای صفحه زیر بنر ثابت نباشد */
    }
    .container{ max-width:1100px; margin:0 auto; }

    header{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:24px; }
    .logo{ display:flex; align-items:center; gap:12px; }
    .badge-logo{ width:64px;height:64px;border-radius:12px; background:linear-gradient(135deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); display:flex;align-items:center;justify-content:center; box-shadow: 0 6px 18px rgba(12,16,30,0.6), inset 0 -2px 8px rgba(0,0,0,0.3); position:relative; overflow:hidden; }
    .title{ font-weight:700;font-size:20px; }
    .subtitle{ color:rgba(230,238,248,0.7); font-size:13px }

    .hero{ display:flex; gap:20px; align-items:center; margin-bottom:18px; flex-wrap:wrap; }
    .server-card{ background:var(--glass); border-radius:14px; padding:14px 18px; min-width:260px; box-shadow: 0 8px 30px rgba(2,6,23,0.6); display:flex; gap:12px; align-items:center; }
    .server-avatar{ width:56px;height:56px;border-radius:10px; background:linear-gradient(135deg,var(--accent1),var(--accent2)); display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px; color:white; }
    .server-info{ line-height:1 }
    .server-info b{ display:block; font-size:15px }
    .server-ip{ font-size:13px; color:rgba(230,238,248,0.8) }

    .btn-copy{ padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.03); color:#e6eef8;font-size:13px;cursor:pointer; }

    .status-card{ background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03); min-width:300px; }
    .status-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .status-title{ font-weight:700 }
    .status-small{ font-size:13px; color:rgba(230,238,248,0.85) }
    .status-badge{ padding:6px 10px;border-radius:10px;font-weight:700;color:white; }
    .online{ background: linear-gradient(90deg,#10b981,#06b6d4); box-shadow:0 10px 30px rgba(6,182,212,0.08); }
    .offline{ background: linear-gradient(90deg,#ef4444,#f97316); box-shadow:0 8px 28px rgba(249,115,22,0.06); }

    .grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:18px; margin-top:18px; }

    .card{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px;padding:18px;position:relative; overflow:hidden; border:1px solid rgba(255,255,255,0.03); transition:transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .28s; }
    .card:hover{ transform:translateY(-8px); box-shadow: 0 24px 50px rgba(2,6,23,0.6); }
    .rank{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px; }
    .tag{ padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px; color:white; background:linear-gradient(90deg,var(--accent1),var(--accent2)); box-shadow: 0 6px 18px rgba(124,58,237,0.18); }
    .price{ font-size:26px;font-weight:800;margin:6px 0;color: #fff; -webkit-text-stroke: 0.6px rgba(255,255,255,0.06); }
    .desc{ color:rgba(230,238,248,0.7); font-size:13px; margin-bottom:12px }
    .actions{ display:flex; gap:10px; align-items:center }
    .buy{ padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,#ff6b6b,#ff9a8b); color:white;border:0;cursor:pointer;font-weight:700;box-shadow:0 8px 24px rgba(255,105,135,0.12); }
    .more{ background:transparent;border:1px solid rgba(255,255,255,0.06);padding:9px 12px;border-radius:10px;color:rgba(230,238,248,0.9);cursor:pointer }

    footer{ margin-top:28px;padding:18px;border-radius:12px;background:rgba(255,255,255,0.02); display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap; border:1px solid rgba(255,255,255,0.03); }
    .about{ max-width:760px;font-size:14px;color:rgba(230,238,248,0.9); line-height:1.5; }
    .telegram{ display:flex; flex-direction:column; gap:6px; align-items:flex-end; }
    .tg-btn{ display:inline-flex; gap:10px; align-items:center; background:linear-gradient(90deg,#2AABEE,#0088CC); color:white; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:700; box-shadow: 0 10px 30px rgba(2,6,23,0.45); }
    .small{ font-size:12px; color:rgba(230,238,248,0.6) }

    /* Sticky promo banner bottom */
    .promo-banner{
      position:fixed;
      left:16px;
      right:16px;
      bottom:16px;
      z-index:9999;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border-radius:12px;
      background: linear-gradient(90deg, rgba(124,58,237,0.12), rgba(6,182,212,0.06));
      border:1px solid rgba(255,255,255,0.06);
      box-shadow: 0 20px 60px rgba(3,7,18,0.7), inset 0 -2px 10px rgba(0,0,0,0.25);
      backdrop-filter: blur(6px);
      color: #fff;
      transition: transform .28s cubic-bezier(.2,.9,.3,1), opacity .2s;
    }
    .promo-left{ display:flex; gap:12px; align-items:center; min-width:0; }
    .promo-badge{
      width:64px;height:64px;border-radius:10px;background:linear-gradient(135deg,#ffd54a,#ff8a65);
      display:flex;align-items:center;justify-content:center;color:#1b1b1b;font-weight:800;font-size:14px;
      box-shadow: 0 8px 28px rgba(255,138,101,0.12);
      flex-shrink:0;
    }
    .promo-text{ min-width:0; }
    .promo-text b{ display:block; font-size:15px; margin-bottom:4px; }
    .promo-cta{ display:flex; gap:10px; align-items:center; }
    .promo-btn{ background: linear-gradient(90deg,#06b6d4,#7c3aed); color:white; padding:10px 14px; border-radius:10px; font-weight:800; text-decoration:none; box-shadow:0 10px 30px rgba(124,58,237,0.14); }
    .promo-secondary{ background:transparent; border:1px solid rgba(255,255,255,0.08); color:rgba(230,238,248,0.95); padding:9px 12px; border-radius:10px; cursor:pointer; }

    .promo-close{ background:transparent; border:0; color:rgba(255,255,255,0.8); font-size:18px; cursor:pointer; margin-right:8px; }

    @media (max-width:720px){
      .promo-banner{ flex-direction:column; align-items:flex-start; padding:12px; left:12px; right:12px; bottom:12px; }
      .promo-cta{ width:100%; justify-content:space-between; gap:8px; }
      body{ padding-bottom:160px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="badge-logo">
          <svg width="34" height="34" viewBox="0 0 24 24" fill="none" aria-hidden>
            <rect width="24" height="24" rx="6" fill="white" fill-opacity="0.06"/>
            <path d="M6 16L10 8L14 16L18 8" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div>
          <div class="title"فروشگاه - aethercraf"t</div>
          <div class="subtitle">خرید آسان — تحویل سریع — پشتیبانی تلگرام</div>
        </div>
      </div>

      <div class="small">آیدی پشتیبانی: <strong>@Canxom</strong></div>
    </header>

    <section class="hero">
      <div class="server-card" aria-hidden>
        <div class="server-avatar">SV</div>
        <div class="server-info">
          <b id="server-name">Saman Hosting</b>
          <div class="server-ip">آی‌پی سرور: <span id="server-ip">play.samanhosting.ir:25576</span></div>
        </div>
        <div style="margin-left:auto">
          <button class="btn-copy" id="copy-ip">کپی آی‌پی</button>
        </div>
      </div>

      <div style="flex:1; min-width:260px;">
        <div class="status-card" id="status-card" aria-live="polite">
          <div class="status-row" style="align-items:center">
            <div>
              <div class="status-title">وضعیت سرور</div>
              <div class="status-small" id="status-sub">درحال دریافت اطلاعات…</div>
            </div>
            <div style="text-align:left">
              <div id="status-badge" class="status-badge offline">درحال بررسی</div>
            </div>
          </div>

          <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:10px 0">

          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div style="min-width:120px">
              <div class="small">بازیکنان</div>
              <div id="players" style="font-weight:800;font-size:18px">—</div>
            </div>
            <div style="min-width:140px">
              <div class="small">نسخه</div>
              <div id="version" style="font-weight:800;font-size:18px">—</div>
            </div>
            <div style="min-width:120px">
              <div class="small">پینگ</div>
              <div id="ping" style="font-weight:800;font-size:18px">—</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <div class="small">MOTD</div>
            <div id="motd" style="font-weight:700;color:rgba(230,238,248,0.95)">—</div>
          </div>

          <div style="margin-top:10px" class="small">منبع وضعیت: <strong>api.mcsrvstat.us</strong> — اگر اطلاعات نمایش داده نشد، مرورگر یا سرویس API ممکن است دسترسی را مسدود کند.</div>
        </div>
      </div>
    </section>

    <main class="grid" aria-live="polite">
      <!-- Sponsor -->
      <article class="card sponsor">
        <div class="rank">
          <h3>Sponser</h3>
          <div class="tag">ویژه</div>
        </div>
        <div class="price">150,000 تومان</div>
        <div class="desc">بالاترین رتبه — نمایش ویژه در سرور — رنک طلایی با جلوهٔ بصری</div>
        <div class="actions">
          <button class="buy" onclick="buy('@Canxom','Sponser','150000')">خرید از طریق تلگرام</button>
          <button class="more" onclick="showDetails('Sponser')">جزئیات</button>
        </div>
      </article>

      <!-- AetherCraft -->
      <article class="card">
        <div class="rank">
          <h3>AetherCraft</h3>
          <div class="tag">پیشنهادی</div>
        </div>
        <div class="price">120,000 تومان</div>
        <div class="desc">رنک محبوب بازیکنان — جلوه‌های اختصاصی و نام در صفحهٔ بازیکنان</div>
        <div class="actions">
          <button class="buy" onclick="buy('@Canxom','AetherCraft','120000')">خرید از طریق تلگرام</button>
          <button class="more" onclick="showDetails('AetherCraft')">جزئیات</button>
        </div>
      </article>

      <!-- Legend -->
      <article class="card">
        <div class="rank">
          <h3>Legend</h3>
          <div class="tag" style="background:linear-gradient(90deg,#ef4444,#f97316)">خاص</div>
        </div>
        <div class="price">90,000 تومان</div>
        <div class="desc">رنک افسانه‌ای با امتیازات و دسترسی‌های ویژه</div>
        <div class="actions">
          <button class="buy" onclick="buy('@Canxom','Legend','90000')">خرید از طریق تلگرام</button>
          <button class="more" onclick="showDetails('Legend')">جزئیات</button>
        </div>
      </article>

      <!-- Vip -->
      <article class="card">
        <div class="rank">
          <h3>Vip</h3>
          <div class="tag" style="background:linear-gradient(90deg,#10b981,#06b6d4)">ویژه</div>
        </div>
        <div class="price">70,000 تومان</div>
        <div class="desc">دسترسی‌های ویژه داخل سرور و نشان VIP در پروفایل</div>
        <div class="actions">
          <button class="buy" onclick="buy('@Canxom','Vip','70000')">خرید از طریق تلگرام</button>
          <button class="more" onclick="showDetails('Vip')">جزئیات</button>
        </div>
      </article>

      <!-- King -->
      <article class="card">
        <div class="rank">
          <h3>King</h3>
          <div class="tag" style="background:linear-gradient(90deg,#a78bfa,#60a5fa)">مقرون‌به‌صرفه</div>
        </div>
        <div class="price">30,000 تومان</div>
        <div class="desc">رنک پایه برای تجربه بهتر با قیمت اقتصادی</div>
        <div class="actions">
          <button class="buy" onclick="buy('@Canxom','King','30000')">خرید از طریق تلگرام</button>
          <button class="more" onclick="showDetails('King')">جزئیات</button>
        </div>
      </article>
    </main>

    <footer>
      <div class="about">
        <strong>درباره ما — چه کاری می‌کنیم؟</strong>
        <p>
          ما تیمی از پلیرها و توسعه‌دهندگان هستیم که هدف‌مان ساخت تجربه‌ای درخشان و بدون دردسر برای بازیکنان است.
          خدمات ما شامل فروش رنک‌های اختصاصی، پشتیبانی فوری در تلگرام، و افزایش تجربهٔ داخل بازی با تنظیمات امن و به‌روز است.
          همهٔ رنک‌ها به صورت دستی توسط تیم اجرا می‌شوند تا خیال شما از کیفیت و ایمنی راحت باشد.
        </p>
        <p style="margin-top:6px" class="small">
          آی‌پی سرور: <code id="server-ip-footer">play.samanhosting.ir:25576</code>
        </p>
      </div>

      <div class="telegram">
        <a class="tg-btn" id="tg-open" href="https://t.me/Canxom" target="_blank" rel="noopener noreferrer">
          <svg width="18" height="18" viewBox="0 0 240 240" fill="none" aria-hidden>
            <path d="M120 0C53.733 0 0 53.733 0 120s53.733 120 120 120 120-53.733 120-120S186.267 0 120 0z" fill="#2AABEE"/>
            <path d="M48 120l120-40-30 80-20-30-70 30 40-40z" fill="#fff" opacity="0.95"/>
          </svg>
          پشتیبانی در تلگرام
        </a>
        <div class="small">آیدی: <strong>@Canxom</strong> — کلیک برای باز شدن در اپ یا وب تلگرام</div>
      </div>
    </footer>
  </div>

  <!-- Promo banner (fixed bottom) -->
  <div id="promo" class="promo-banner" role="region" aria-label="تبلیغ ویژه">
    <div class="promo-left">
      <div class="promo-badge">پیشنهاد</div>
      <div class="promo-text">
        <b>می‌خوای سرور خودتو با کیفیت بالا داشته باشی؟</b>
        <div style="font-size:13px; color:rgba(255,255,255,0.9); max-width:560px">
          این سروری که می‌بینی با پینگ و TPS عالی از اینجا تهیه شده است. تو هم می‌تونی از همین سرویس استفاده کنی و سرور خودت را راه‌اندازی کنی — خرید سریع و پشتیبانی از طریق تلگرام.
        </div>
      </div>
    </div>

    <div class="promo-cta" aria-hidden="false">
      <a id="promo-buy" class="promo-btn" href="https://t.me/Canxom" target="_blank" rel="noopener noreferrer">بزن بریم — خرید / سوال</a>
      <button class="promo-secondary" id="promo-more">اطلاعات بیشتر</button>
      <button class="promo-close" id="promo-close" aria-label="بستن تبلیغ">✕</button>
    </div>
  </div>

  <script>
    // -------------- تنظیم آی‌پی واقعی شما --------------
    const SERVER_HOST = "play.samanhosting.ir";
    const SERVER_PORT = 25576;
    const SERVER_FULL = `${SERVER_HOST}:${SERVER_PORT}`;
    document.getElementById('server-ip').textContent = SERVER_FULL;
    document.getElementById('server-ip-footer').textContent = SERVER_FULL;
    // ---------------------------------------------------

    // کپی آی‌پی
    document.getElementById('copy-ip').addEventListener('click', function(){
      const ip = SERVER_FULL;
      navigator.clipboard?.writeText(ip).then(()=> {
        this.textContent = 'کپی شد!';
        setTimeout(()=> this.textContent = 'کپی آی‌پی', 1400);
      }).catch(()=> {
        alert('امکان کپی خودکار نیست — لطفاً دستی کپی کنید: ' + ip);
      });
    });

    // تابع خرید (تلگرام)
    function buy(tgUser, rankName, price){
      const msg = encodeURIComponent(`سلام! می‌خوام رنک "${rankName}" رو بخرم — قیمت: ${price} تومان.\nسرور: ${SERVER_FULL}\nآیدی خرید: ${tgUser}`);
      const tgDeep = `tg://resolve?domain=${tgUser.replace('@','')}&text=${msg}`;
      const tgWeb = `https://t.me/${tgUser.replace('@','')}?text=${msg}`;
      window.open(tgDeep, '_blank');
      setTimeout(()=> window.open(tgWeb, '_blank'), 600);
    }

    function showDetails(rank){
      alert(rank + "\\n\\nبرای اطلاعات بیشتر و پرداخت، لطفاً از دکمهٔ خرید استفاده کرده و یا در تلگرام به @Canxom پیام دهید.");
    }

    // Promo behavior: more/info, close (persist)
    (function(){
      const promo = document.getElementById('promo');
      const closeBtn = document.getElementById('promo-close');
      const moreBtn = document.getElementById('promo-more');
      const buyBtn = document.getElementById('promo-buy');

      // if user dismissed before, hide promo
      if(localStorage.getItem('promoDismissed') === '1'){
        promo.style.display = 'none';
      }

      closeBtn.addEventListener('click', function(){
        promo.style.transform = 'translateY(20px)';
        promo.style.opacity = '0';
        setTimeout(()=> promo.style.display = 'none', 220);
        localStorage.setItem('promoDismissed', '1'); // persist
      });

      moreBtn.addEventListener('click', function(){
        // باز کردن پنجره اطلاعات بیشتر — می‌توان این را به صفحهٔ اختصاصی وصل کرد
        alert('این سروری که می‌بینی با پینگ و TPS عالی از سرویس SamanHosting.ir   سرور خوب باید برای پشتیبانی @SamanHosting.');
      });

      // quick prefill پیام برای خرید سرور (با آیدی شما)
      buyBtn.addEventListener('click', function(e){
        // override href to include text message if possible
        const msg = encodeURIComponent('سلام! می‌خوام سرور مشابهی که در سایت دیدم رو تهیه کنم. راهنمایی و قیمت لطفاً. آدرس سرور مرجع: ' + SERVER_FULL);
        const tgWeb = `https://t.me/Canxom?text=${msg}`;
        const tgDeep = `tg://resolve?domain=Canxom&text=${msg}`;
        // try deep link then fallback
        window.open(tgDeep, '_blank');
        setTimeout(()=> window.open(tgWeb, '_blank'), 600);
        e.preventDefault();
      });
    })();

    // --------- دریافت وضعیت واقعی سرور (API عمومی) ----------
    async function fetchServerStatus(host, port){
      const apiUrl = `https://api.mcsrvstat.us/2/${host}:${port}`;
      try {
        const res = await fetch(apiUrl, {cache: "no-cache"});
        if(!res.ok) throw new Error('status ' + res.status);
        const data = await res.json();
        return data;
      } catch (err) {
        console.warn('خطا در دریافت وضعیت سرور:', err);
        return null;
      }
    }

    function renderStatus(data){
      const badge = document.getElementById('status-badge');
      const sub = document.getElementById('status-sub');
      const playersEl = document.getElementById('players');
      const versionEl = document.getElementById('version');
      const motdEl = document.getElementById('motd');
      const pingEl = document.getElementById('ping');

      if(!data){
        badge.className = 'status-badge offline';
        badge.textContent = 'نامعلوم';
        sub.textContent = 'نمی‌توان وضعیت را دریافت کرد — راه‌انداز یا مرورگر ممکن است دسترسی را مسدود کند.';
        playersEl.textContent = '—';
        versionEl.textContent = '—';
        motdEl.textContent = '—';
        pingEl.textContent = '—';
        return;
      }

      if(data.online){
        badge.className = 'status-badge online';
        badge.textContent = 'آنلاین';
        sub.textContent = `سرور آنلاین — آدرس: ${SERVER_FULL}`;
      } else {
        badge.className = 'status-badge offline';
        badge.textContent = 'آفلاین';
        sub.textContent = `سرور آفلاین یا پاسخ نمی‌دهد — آدرس: ${SERVER_FULL}`;
      }

      const onlinePlayers = (data.players && typeof data.players.online === 'number') ? data.players.online : null;
      const maxPlayers = (data.players && typeof data.players.max === 'number') ? data.players.max : null;
      playersEl.textContent = (onlinePlayers !== null) ? `${onlinePlayers} / ${maxPlayers ?? '—'}` : '—';

      versionEl.textContent = data.version ?? '—';

      let motdText = '—';
      if(data.motd && data.motd.clean && Array.isArray(data.motd.clean)) {
        motdText = data.motd.clean.join(' | ');
        if(motdText.length > 120) motdText = motdText.slice(0,120) + '…';
      }
      motdEl.textContent = motdText;

      if(typeof data.debug === 'object' && data.debug.ping) {
        pingEl.textContent = data.debug.ping + ' ms';
      } else if(typeof data.latency === 'number') {
        pingEl.textContent = data.latency + ' ms';
      } else {
        pingEl.textContent = '—';
      }
    }

    async function updateLoop(){
      const data = await fetchServerStatus(SERVER_HOST, SERVER_PORT);
      renderStatus(data);
    }

    updateLoop();
    setInterval(updateLoop, 30000);
  </script>
</body>
</html>
